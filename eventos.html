
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events</title>
    <link rel="stylesheet" href="styles/style.css">
   </head>
   <style>
    .red {
        background-color: red;
        color: bisque ;}
        #padre {
            padding: 30px;
            background-color: lightblue;
        }
        #hijo {
            padding: 20px;
            background-color: lightgreen;
        }
        #boton {
            padding: 10px;
            background-color: orange;
        } 


    .divYoussef button {
        border-style: none; 
        border-radius: 100px; 
        border: 2px solid rgb(0, 0, 0);
        padding: 10px 0 10px 0; 
        background-color: rgb(228, 0, 0); 
        cursor: pointer; 
        color: white; 
        font-weight: bold;
        width: 100%;
    }

    .divYoussef video {
        border-radius: 15px;
    }

   </style>
<body>
    <nav class="navPaginas">
        <ul>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="eventos.html">Eventos</a></li>
                <li><a href="nodos.html">Creación y acceso a nodos</a></li>
                <li><a href="storage.html">Local storage / Session storage</a></li>
                <li><a href="ventanas.html">Creación de ventanas</a></li>
            

        </ul>
    </nav>
 <main>

    <!--Ejemplo de .addEventListener() -->
            <div class="divsilvia">
            <h2>.addEventListener()</h2>
            <pre><code>
               <p>const button1 = document.querySelector("button1");<br>
                function action() {alert("Hola mundo!"); };<br>
                button.addEventListener("click", action);</p><br>
            </code></pre>
               <p> Buscamos el elemento que tendrá el evento, en este caso button<br>
                   Creamos una función action() que realizará la acción deseada.<br>
                    En el botón, escuchamos el evento click y le asociamos la función action.</p>
                    <button id="button1" class="butJS">Haz clic</button>
            </div>

    <!--multiples funciones-->
            <div class="divsilvia2">
            <h2>Multiples funcionalidades</h2>
          
            <p>permite asociar múltiples funciones a un mismo evento<br>
                <pre><code>
                const button2 = document.querySelector("button2");<br>
                const action = () => alert("Hola mundo!");<br>
                const toggle = () => button.classList.toggle("red");<br>
                
                button.addEventListener("click", action);<br> 
                button.addEventListener("click", toggle); </code></pre></p>
           
                <button id="button2" class="butJS">Saludar</button>
         </div>
    <!--.removeEventListener()-->
        <div class="divsilvia3">
            <h2>.removeEventListener()</h2>
                    <p>Veamos el ejemplo anterior, eliminando la funcionalidad action mediante .removeEventListener(),<br>
                    es decir, sólo debería actuar la funcionalidad toggle:<br>
                    <pre><code>
                        const button3 = document.getElementById("button3");<br>

                        const action2 = () => alert("¡Esta funcionalidad será eliminada!");
                        const toggleAnotherClass = () => button3.classList.toggle("blue");<br>
                
                        button3.addEventListener("click", action2);
                        button3.addEventListener("click", toggleAnotherClass);<br>
                
                        // Eliminar la funcionalidad `action2` después de 3 segundos
                        
                        setTimeout(() => {
                            button3.removeEventListener("click", action2);<br>
                            alert("Función 'action2' eliminada");
                        }, 3000);</code></pre></p>

                <button id="activar" class="butJS">activar</button>
                <button id="detener" class="butJS">detener</button>
    </div>

   <!--ejemplo de la propagacion-->

      <div class="divsilvia4">
        <h2>Fases: captura, objetivo, propagacion</h2>
            <p>En la fase de captura, el evento baja desde el nodo más alto
                (document) hasta el elemento que disparó el evento (fase objetivo) 
                y en la fase de propagacion vuelve a subir burbujeando hacia el dom.</p>
        <pre><code>
            const padre = document.getElementById('padre');
            const hijo = document.getElementById('hijo');
            const boton = document.getElementById('boton');

            // Fase de captura (true como tercer parámetro)
            padre.addEventListener('click', () => {
                console.log("Fase de captura: DIV PADRE");
            }, true);

            hijo.addEventListener('click', () => {
                console.log("Fase de captura: DIV HIJO");
            }, true);

            boton.addEventListener('click', () => {
                console.log("Fase de captura: BOTÓN");
            }, true);

            // Fase objetivo (se ejecuta cuando se llega al elemento del evento)
            boton.addEventListener('click', () => {
                console.log("Fase objetivo: BOTÓN");
            });

            // Fase de burbujeo (por defecto, el tercer parámetro es false)
            hijo.addEventListener('click', () => {
                console.log("Fase de burbujeo: DIV HIJO");
            });

            padre.addEventListener('click', () => {
                console.log("Fase de burbujeo: DIV PADRE");
            });
        </code></pre>

         <div id="padre">DIV PADRE
              <div id="hijo"> DIV HIJO
                        <button id="boton">Haz clic aquí</button>
                    </div>
                </div>

    <!------------------------------------------------------------------------------------------------------------->

        <div class="divYoussef">
            <h2>Object event</h2>

                <h3>event.target.id</h3>
                    <button id="submitBtn">Submit</button>
                    <button id="cancelBtn">Cancel</button>

                <h3>event.type</h3>
                    <input type="text" id="nameField1" placeholder="Type something...">

                    <h3>Abort</h3>
                    <img id="myImage" src="assets/imagetest.jpg" alt="image" width="100%" style="border-radius: 10px;">
                    <button id="cancelLoading">Cancel Image Loading</button>
                    
                <h3>beforeprint / afterprint</h3>
                    <button onclick="window.print()">Print this document</button>

                <h3>beforeunload</h3>

                <h3>canplay</h3>
                    <video id="videoCanplay" controls>
                        <source src="assets/videotest.mp4" type="video/mp4">
                    </video>

                <h3>canplaythrough</h3>
                    <video id="videoThrough" controls>
                        <source src="assets/videotest.mp4" type="video/mp4">
                    </video>

                <h3>change</h3>
                    <input type="text" id="nameField2" placeholder="Type your name">

                <h3>input</h3>
                    <input type="text" id="nameField3" placeholder="Type your name">

                <h3>ended</h3>
                    <video id="videoEnded" controls>
                        <source src="assets/videotest.mp4">
                    </video>

                <h3>error</h3>
                    <img id="image" src="assets/invalid-image.jpg" alt="Image">

                <h3>fullscreenchange</h3>
                    <button id="enterFullscreen1">Enter Fullscreen</button>

                <h3>pause</h3>
                    <video id="videoPause" controls>
                        <source src="assets/videotest.mp4">
                    </video>
                    <button id="pauseButton">Pause Video</button>

                <h3>invalid</h3>
                <form>
                    <input type="email" id="nameField4" requiered style="margin-bottom: 10px; width: 100%;">
                    <br>
                    <button type="Submit" style="width: 100%;">Send</button>
                </form>
                <h3>load</h3>
                    <video id="videoLoad" controls>
                        <source src="assets/videotest.mp4">
                    </video>

                <h3>loadeddata</h3>
                    <video id="videoLoadedData" controls>
                        <source src="assets/videotest.mp4">
                    </video>

                <h3>loadedmetadata</h3>
                <video id="videoLoadedMeta" controls>
                    <source src="assets/videotest.mp4" type="video/mp4">
                </video>

                <h3>message</h3>

                <h3>offline</h3>

                <h3>online</h3>

                <h3>open</h3>
                    <p>head over network -> message! and check all the messages that have been sent to the server</p>


                <h3>event.target.node</h3>
                    <div>
                        <button id="clickBtn">Click me</button>
                    </div>

                <h3>currentTarget</h3>
                    <div id="containerP">
                        <button id="button">Click Me</button>
                    </div>

                <h3>ASCII Code</h3>
                    <input type="text" id="asciiInput" placeholder="Press a key">

                <h3>screenX - screenY</h3>
                    <div id="mousePosition" style="height: 500px; background-color: lightblue;">
                    <p>Click inside this box to get the mouse position!</p>
                </div>
                <h3>preventDefault()</h3>
                    <h4>Disable Right-Click</h4>
                    <a id="preventId" style="text-align: center; margin-top: 10px;" href="https://wwww.pentaforce.com">Visit the official website of PentaForce</a>
                    <input type="checkbox" id="myCheckbox">
        </div>

       <!--------------------------------------------------------------------------->

     <footer>
            <button class="but"><a href="index.html">Volver al índice</a></button>
        </footer>
        <script>
    
        //Ejemplo de .addEventListener
        
        const button = document.getElementById("button");
        
        function action() {
        alert("¡Hola mundo!");
        }
        button.addEventListener("click", action);

    //multiples funciones

        const mybutton = document.getElementById("mybutton");

    const action1 = () => alert("¡Hola!");
    const toggleClass = () => button2.classList.toggle("red");

        mybutton.addEventListener("click", action1);
        mybutton.addEventListener("click", toggleClass);

  //.removeEventListener()

        const botonActivar = document.getElementById("activar");
        const botonDetener = document.getElementById("detener");

        function accion() {
        alert("¡Botón activado!");
        }

        botonActivar.addEventListener("click", accion);

        // Eliminar el evento
        botonDetener.addEventListener("click", () => {
        botonActivar.removeEventListener("click", accion);
        alert("El evento ha sido eliminado.");
        });


  //propagacion,fase de captura

        const padre = document.getElementById('padre');
        const hijo = document.getElementById('hijo');
        const boton = document.getElementById('boton');

        // Fase de captura (true como tercer parámetro)
        padre.addEventListener('click', () => {
            console.log("Fase de captura: DIV PADRE");
        }, true);

        hijo.addEventListener('click', () => {
            console.log("Fase de captura: DIV HIJO");
        }, true);

        boton.addEventListener('click', () => {
            console.log("Fase de captura: BOTÓN");
        }, true);

        // Fase objetivo (se ejecuta cuando se llega al elemento del evento)
        boton.addEventListener('click', () => {
            console.log("Fase objetivo: BOTÓN");
        });

        // Fase de burbujeo (por defecto, el tercer parámetro es false)
        hijo.addEventListener('click', () => {
            console.log("Fase de burbujeo: DIV HIJO");
        });

        padre.addEventListener('click', () => {
            console.log("Fase de burbujeo: DIV PADRE");
        });


                                // Youssef's code

        // event.target.id
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function(event) {
                console.log('The id of the button clicked is:', event.target.id);
                alert('The id of the button clicked is: '+ event.target.id);
            });
        });

        // event.type
        const nameField = document.getElementById('nameField1');
        const eventTypes = ['keyup', 'focus', 'keypress'];

        eventTypes.forEach(eventType => {
            nameField.addEventListener(eventType, function(event) {
                console.log(`Event type: ${event.type}`);
            });
        });

        // abort
        const image = document.getElementById('myImage');
        const cancelButton = document.getElementById('cancelLoading');

        image.addEventListener('abort', function() {
            console.log('Image loading was aborted!');
        });

        cancelButton.addEventListener('click', function() {
            image.src = '';
        });

        // afterprint
        window.addEventListener('afterprint', function(event) {
            console.log('The document has been printed successfully');
            alert('The document has been printed successfully');
        });

        // beforeprint
        window.addEventListener('beforeprint', function(event){
            console.log('Getting ready for the document to get printed');
            alert('Getting ready for the document to get printed');
        });

        // beforeunload

        window.addEventListener('beforeunload', ()=>{
        event.preventDefault();
        event.returnValue = "";
        });

        // canplay
        document.getElementById('videoCanplay').addEventListener('canplay', function(event) {
            console.log('You can play the video');
            let result = 'You can play the video'

            document.getElementById('videoCanplay').innerText = result;
        });

        // canplaythrough
        document.getElementById('videoThrough').addEventListener('canplaythrough', function(event) {
            console.log('You can play the whole video without interruptions');
            let result = 'You can play the whole video without interruptions';

            document.getElementById('videoThrough').innerText = result;
        });

        // change
        document.getElementById('nameField2').addEventListener('change', function(event) {
            console.log('Input value changed: ', event.target.value);
        });

        // input
        document.getElementById('nameField3').addEventListener('input', function(event) {
            console.log('The current value is: ', event.target.value);
        });

        // ended
        document.getElementById('videoEnded').addEventListener('ended', function(event) {
            console.log('The video has finished playing');
            alert('The video has finished playing');
        });

        // error
     
        document.getElementById('image').addEventListener('error', function(event) {
            console.log('There was an error detected in the website');
            alert('There was an error detected in the website');
        });


        // fullscreenchange
        document.getElementById('enterFullscreen1').addEventListener('click', function() {
            document.documentElement.requestFullscreen();
        });


        // pause
        document.getElementById('pauseButton').addEventListener('click', function() {
            document.getElementById('videoPause').pause();
});

        // invalid
        document.getElementById('nameField4').addEventListener('invalid', function(event) {
            console.log('Please write a valid address email');
            alert('Please write a valid address email');
        });

        // load

        document.getElementById('videoLoad').addEventListener('click', function() {
            console.log(loadvideo.load())
        })

        // loadeddata
        document.getElementById('videoLoadedData').addEventListener('loadeddata', function(event) {
            const loadeddata = 'The video has been loaded'
            console.log(loadeddata);
        });

        // loadedmetadata
        const video = document.getElementById('videoLoadedMeta');

        video.addEventListener('loadedmetadata', function() {
            console.log("Video duration:", video.duration);
            console.log("Video currentime:", video.currentTime);
            console.log("Video width:", video.width);
        });

        // message
        window.addEventListener('message', function(event) {
            console.log('Message received: ', event.data);
        });
        window.postMessage('Hello, World!', '*');

        // offline
        window.addEventListener('offline', function(event) {
            console.log('You are offline');
            alert('You are offline');
        });

        // online
        window.addEventListener('online', function(event) {
            const online = 'You have recovered access to internet, welcome back again'
            console.log(online);
            alert(online);
        });

        // open
        const socket = new WebSocket('wss://demo.piesocket.com/v3/channel_123?api_key=VCXCEuvhGcBDP7XhiJJUDvR1e1D3eiVjgZ9VRiaV&notify_self');
        socket.addEventListener('open', function(event) {
            console.log('Connection established');
        });
        
        // event.target.node
        document.getElementById('clickBtn').addEventListener('click', function(event) {
            console.log('Element type: ', event.target.nodeName);
            alert('Element type: ' + event.target.nodeName);
        });

        //currentTarget
        document.getElementById('containerP').addEventListener('click', function(event)  {
            const currentTarget = 'Event listener is attached to: ';
            console.log(currentTarget, event.currentTarget.id);
            alert(currentTarget + event.currentTarget.id);
        });

        // ASCII
        document.getElementById('asciiInput').addEventListener('keydown', function(event) {
            console.log('KeyName Code: ', event.key);
            console.log('ASCII Code: ', event.keyCode);
        });

        // ScreenX - ScreenY
        const box = document.getElementById('mousePosition');

        box.addEventListener('click', function(event){
            const x = event.screenX;
            const y = event.screenY;

            console.log(`Mouse Position: X = ${x}, Y = ${y}`)
        });

        // preventDefault() Method Event

        document.getElementById('preventId').addEventListener('click', function(event) {
            event.preventDefault();
            console.log('Link click prevented')
            alert('Link is prevented')
        });

        // preventDefault() checkbox example
        document.getElementById('myCheckbox').addEventListener('click', function(event) {
            event.preventDefault();
        });

        // preventDefault() right click example
        document.addEventListener('contextmenu', function(event) {
            event.preventDefault();
            console.log('Right-click is disabled on this page.')
            alert("Right-click is disabled on this page.")
        });

    </script>
</body>
</html>
