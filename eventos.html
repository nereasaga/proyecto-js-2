<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events</title>
    <link rel="stylesheet" href="styles/style.css">
   </head>
   <style>

   </style>
<body>
    <nav class="navPaginas">
        <ul>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="eventos.html">Eventos</a></li>
                <li><a href="nodos.html">Creación y acceso a nodos</a></li>
                <li><a href="storage.html">Local storage / Session storage</a></li>
                <li><a href="ventanas.html">Creación de ventanas</a></li>
            

        </ul>
    </nav>
    <main>
        <button id="boton">Haz clic aquí</button>

        <div id="miCaja" style="width: 100px; height: 100px; border: 1px solid black;">
            Pasa el ratón
        </div>
        
        <div id="scroll" style="width: 300px; height: 100px; overflow-y: scroll; border: 1px solid black;">
            <p>Esto es un texto de prueba,</p>
            <p>vamos a trabajar con un texto largo para comprobar como funciona la accion del scroll
                vamos a trabajar con un texto largo para comprobar como funciona la accion del scroll
                vamos a trabajar con un texto largo para comprobar como funciona la accion del scroll
                vamos a trabajar con un texto largo para comprobar como funciona la accion del scroll
                vamos a trabajar con un texto largo para comprobar como funciona la accion del scroll
                <var></var>
            </p>
        </div>

        <button id="botonRemovible">Haz clic</button>

    <!------------------------------------------------------------------------------------------------------------->

        <div class="divYoussef">
            <h2>Object event</h2>

                <h3>event.target.id</h3>
                    <button id="submitBtn">Submit</button>
                    <button id="cancelBtn">Cancel</button>

                <h3>event.type</h3>
                    <input type="text" id="nameField1" placeholder="Type something...">

                    <h3>Abort</h3>
                    <img id="myImage" src="assets/imagetest.jpg" alt="image" width="300">
                    <button id="cancelLoading">Cancel Image Loading</button>
                    
                <h3>before print / afterprint</h3>
                    <button onclick="window.print()">Print this document</button>

                <h3>beforeunload</h3>

                <h3>canplay</h3>
                    <video id="myVideo1" controls>
                        <source src="assets/videotest.mp4" type="video/mp4">
                    </video>
                    <p id="canplay"></p>

                <h3>canplaythrough</h3>
                    <video id="myVideo2" controls>
                        <source src="assets/videotest.mp4" type="video/mp4">
                    </video>
                    <p id="canplaythrough"></p>

                <h3>change</h3>
                    <input type="text" id="nameField2" placeholder="Type your name">

                <h3>input</h3>
                    <input type="text" id="nameField3" placeholder="Type your name">

                <h3>ended</h3>
                    <video id="myVideo3" controls>
                        <source src="assets/videotest.mp4">
                    </video>

                <h3>error</h3>
                    <img id="image" src="assets/invalid-image.jpg" alt="Image">

                <h3>fullscreenchange</h3>
                    <button id="enterFullscreen1">Enter Fullscreen</button>

                <h3>fullscreenerror</h3>
                    <button id="enterFullscreen2">Enter Fullscreen</button>

                <h3>invalid</h3>
                <form>
                    <input type="email" id="nameField4" requiered>
                    <button type="Submit">Send</button>
                </form>
                <h3>load</h3>
                    <video id="loadvideo" controls>
                        <source src="assets/videotest.mp4">
                    </video>

                <h3>loadeddata</h3>
                    <video id="myVideo4" controls>
                        <source src="assets/videotest.mp4">
                    </video>
                    <p id="loadeddata"></p>

                <h3>loadedmetadata</h3>
                <video id="myVideo5" controls>
                    <source src="assets/videotest.mp4" type="video/mp4">
                </video>

                <h3>message</h3>

                <h3>offline</h3>

                <h3>online</h3>

                <h3>open</h3>
                    <p>head over network -> message! and check all the messages that have been sent to the server</p>



                <h3>event.target.node</h3>
                    <div>
                        <button id="clickBtn">Click me</button>
                    </div>

                <h3>currentTarget</h3>
                    <div id="containerP">
                        <button id="button">Click Me</button>
                    </div>

                <h3>ASCII Code</h3>
                    <input type="text" id="asciiInput" placeholder="Press a key">

                <h3>screenX - screen</h3>
                    <div id="mousePosition" style="height: 500px; background-color: lightblue;">
                    <p>Click inside this box to get the mouse position!</p>
                </div>

        </div>





    <!------------------------------------------------------------------------------------------------------------->


    </main>
    <footer>
        <button class="but"><a href="index.html">Volver al índice</a></button>
    </footer>
    <script>
      // Evento de ratón
          document.getElementById('boton').addEventListener('click', () => {
            alert('Botón clicado');
        });

        // Evento de teclado
           const caja = document.getElementById('miCaja');

            caja.addEventListener('mouseover', () => {
                caja.style.backgroundColor = 'red';
            });

            caja.addEventListener('mouseout', () => {
                caja.style.backgroundColor = 'green';
            });
            ;

        // Evento de scroll
        document.getElementById('scroll').addEventListener('scroll', () => {
            console.log('Scroll detectado');
        });

      //Eliminar un evento con removeEventListener
        const boton = document.getElementById('botonRemovible');

        function manejarClick() {
            alert('Evento activado. Se eliminará después de esto.');
            boton.removeEventListener('click', manejarClick);
        }
         // Agrega el evento
        boton.addEventListener('click', manejarClick);



                                // Youssef's code

        // event.target.id
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function(event) {
                console.log('The id of the button clicked is:', event.target.id);
                alert('The id of the button clicked is: '+ event.target.id);
            });
        });

        // event.type
        const nameField = document.getElementById('nameField1');
        const eventTypes = ['keyup', 'focus', 'keypress'];

        eventTypes.forEach(eventType => {
            nameField.addEventListener(eventType, function(event) {
                console.log(`Event type: ${event.type}`);
            });
        });

        // abort
        const image = document.getElementById('myImage');
        const cancelButton = document.getElementById('cancelLoading');

        image.addEventListener('abort', function() {
            console.log('Image loading was aborted!');
            alert('Image loading was aborted!');
        });

        cancelButton.addEventListener('click', function() {
            image.src = '';
        });

        // afterprint
        window.addEventListener('afterprint', function(event) {
            console.log('The document has been printed successfully');
            alert('The document has been printed successfully');
        });

        // beforeprint
        window.addEventListener('beforeprint', function(event){
            console.log('Getting ready for the document to get printed');
            alert('Getting ready for the document to get printed');
        });

        // beforeunload

        window.addEventListener('beforeunload', ()=>{
        event.preventDefault();
        event.returnValue = "";
        })


        // canplay
        document.getElementById('myVideo1').addEventListener('canplay', function(event) {
            console.log('You can play the video');
            let result = 'You can play the video'

            document.getElementById('canplay').innerText = result;
        });

        // canplaythrough
        document.getElementById('myVideo2').addEventListener('canplaythrough', function(event) {
            console.log('You can play the whole video without interruptions');
            let result = 'You can play the whole video without interruptions';

            document.getElementById('canplaythrough').innerText = result;
        });

        // change
        document.getElementById('nameField2').addEventListener('change', function(event) {
            console.log('Input value changed: ', event.target.value);
        });

        // input
        document.getElementById('nameField3').addEventListener('input', function(event) {
            console.log('The current value is: ', event.target.value);
        });

        // ended
        document.getElementById('myVideo3').addEventListener('ended', function(event) {
            console.log('The video has finished playing');
            alert('The video has finished playing');
        });

        // error
        document.getElementById('image').addEventListener('error', function(event) {
            console.log('There was an error detected in the website');
            alert('There was an error detected in the website');
        });

        // fullscreenchange
        document.getElementById('enterFullscreen1').addEventListener('click', function() {
            document.documentElement.requestFullscreen();
        });


        // fullscreenerror
        document.getElementById('enterFullscreen2').addEventListener('click', function(){
            let success = document.documentElement.requestFullscreen();
            if (!success) {
                console.log('Failed to enter full-screen mode');
            }
        });

        document.addEventListener('fullscreenerror', function() {
            console.log('An error occured while trying to enter full-screen mode');
        });

        // invalid
        document.getElementById('nameField4').addEventListener('invalid', function(event) {
            console.log('Please write a valid address email');
            alert('Please write a valid address email');
        });

        // load

        document.getElementById('loadvideo').addEventListener('click', function() {
            console.log(loadvideo.load())
        })

        // loadeddata
        document.getElementById('myVideo4').addEventListener('loadeddata', function(event) {
            const loadeddata = 'The video has been loaded'
            console.log(loadeddata);
        });

        // loadedmetadata
        const video = document.getElementById('myVideo5');

        video.addEventListener('loadedmetadata', function() {
            console.log("Video duration:", video.duration);
            console.log("Video currentime:", video.currentTime);
            console.log("Video width:", video.width);
        });

        // message
        window.addEventListener('message', function(event) {
            console.log('Message received: ', event.data);
        });
        window.postMessage('Hello, World!', '*');

        // offline
        window.addEventListener('offline', function(event) {
            console.log('You are offline');
            alert('You are offline');
        });

        // online
        window.addEventListener('online', function(event) {
            const online = 'You have come back online'
            console.log(online);
            alert(online);
        });

        // open
        const socket = new WebSocket('wss://demo.piesocket.com/v3/channel_123?api_key=VCXCEuvhGcBDP7XhiJJUDvR1e1D3eiVjgZ9VRiaV&notify_self');
        socket.addEventListener('open', function(event) {
            console.log('Connection established');
        });
        
        // event.target.node
        document.getElementById('clickBtn').addEventListener('click', function(event) {
            console.log('Element type: ', event.target.nodeName);
            alert('Element type: ' + event.target.nodeName);
        });

        //currentTarget
        document.getElementById('containerP').addEventListener('click', function(event)  {
            const currentTarget = 'Event listener is attached to: ';
            console.log(currentTarget, event.currentTarget.id);
            alert(currentTarget + event.currentTarget.id);
        });

        // ASCII
        document.getElementById('asciiInput').addEventListener('keydown', function(event) {
            console.log('KeyName Code: ', event.key);
            console.log('ASCII Code: ', event.keyCode);
        });

        // ScreenX - ScreenY
        const box = document.getElementById('mousePosition');

        box.addEventListener('click', function(event){
            const x = event.screenX;
            const y = event.screenY;

            console.log(`Mouse Position: X = ${x}, Y = ${y}`)
        });

    </script>
</body>
</html>