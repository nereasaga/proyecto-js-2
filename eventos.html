<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events</title>
    <link rel="stylesheet" href="styles/style.css">
   </head>
   <style>
     .red { background: red }

    .divYoussef button {
        border-style: none; 
        border-radius: 100px; 
        border: 2px solid rgb(0, 0, 0);
        padding: 10px 0 10px 0; 
        background-color: rgb(228, 0, 0); 
        cursor: pointer; 
        color: white; 
        font-weight: bold;
        width: 100%;
    }

    .divYoussef video {
        border-radius: 15px;
    }

   </style>
<body>
    <nav class="navPaginas">
        <ul>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="eventos.html">Eventos</a></li>
                <li><a href="nodos.html">Creación y acceso a nodos</a></li>
                <li><a href="storage.html">Local storage / Session storage</a></li>
                <li><a href="ventanas.html">Creación de ventanas</a></li>
            

        </ul>
    </nav>
    <main>
 <!--Ejemplo de .addEventListener() -->
        <div class="divsilvia">
            <h2>.addEventListener()</h2>
          <p> const button = document.querySelector("button");<br>
              function action() {alert("Hello!"); };<br>
              button.addEventListener("click", action);<br>
                1️⃣ Buscamos el elemento que tendrá el evento, en este caso button<br>
                2️⃣ Creamos una función action() que realizará la acción deseada.<br>
                3️⃣ En el botón, escuchamos el evento click y le asociamos la función action.</p>

             <button>Click me</button>
         </div>
  <!--multiples funciones-->
         <div class="divsilvia1">
            <h2>Multiples funcionalidades</h2>
            <p>permite asociar múltiples funciones a un mismo evento<br>
                const button = document.querySelector("button");<br>
                const action = () => alert("Hello!");<br>
                const toggle = () => button.classList.toggle("red");<br>
                
                button.addEventListener("click", action);<br> 
                button.addEventListener("click", toggle);</p>
                <button>Saludar</button>
         </div>
  <!--.removeEventListener()-->

  <div class="divsilvia2">
    <h2>.removeEventListener()</h2>
    <p>Veamos el ejemplo anterior, eliminando la funcionalidad action mediante .removeEventListener(),<br>
        es decir, sólo debería actuar la funcionalidad toggle:<br>
        const action = () => alert("Hello!");<br>
        const toggle = () => button.classList.toggle("red");<br>
        
        button.addEventListener("click", action);<br>       
        button.addEventListener("click", toggle);<br>        
        button.removeEventListener("click", action);</p>

        <button>Saludar</button>
     </div>

 <!--ejemplo de la propagacion-->

    <div class="divsilvia3">
        <h2>propagacion</h2>
        <p></p>
     <div id="padre">
        <div id="hijo">
          <button id="boton">Haz clic aquí</button>
        </div>
      </div>

    <!------------------------------------------------------------------------------------------------------------->

        <div class="divYoussef">
            <h2>Object event</h2>

                <h3>event.target.id</h3>
                    <button id="submitBtn">Submit</button>
                    <button id="cancelBtn">Cancel</button>

                <h3>event.type</h3>
                    <input type="text" id="nameField1" placeholder="Type something...">

                    <h3>Abort</h3>
                    <img id="myImage" src="assets/imagetest.jpg" alt="image" width="100%" style="border-radius: 10px;">
                    <button id="cancelLoading">Cancel Image Loading</button>
                    
                <h3>beforeprint / afterprint</h3>
                    <button onclick="window.print()">Print this document</button>

                <h3>beforeunload</h3>

                <h3>canplay</h3>
                    <video id="videoCanplay" controls>
                        <source src="assets/videotest.mp4" type="video/mp4">
                    </video>

                <h3>canplaythrough</h3>
                    <video id="videoThrough" controls>
                        <source src="assets/videotest.mp4" type="video/mp4">
                    </video>

                <h3>change</h3>
                    <input type="text" id="nameField2" placeholder="Type your name">

                <h3>input</h3>
                    <input type="text" id="nameField3" placeholder="Type your name">

                <h3>ended</h3>
                    <video id="videoEnded" controls>
                        <source src="assets/videotest.mp4">
                    </video>

                <h3>error</h3>
                    <img id="image" src="assets/invalid-image.jpg" alt="Image">

                <h3>fullscreenchange</h3>
                    <button id="enterFullscreen1">Enter Fullscreen</button>

                <h3>pause</h3>
                    <video id="videoPause" controls>
                        <source src="assets/videotest.mp4">
                    </video>
                    <button id="pauseButton">Pause Video</button>

                <h3>invalid</h3>
                <form>
                    <input type="email" id="nameField4" requiered style="margin-bottom: 10px; width: 100%;">
                    <br>
                    <button type="Submit" style="width: 100%;">Send</button>
                </form>
                <h3>load</h3>
                    <video id="videoLoad" controls>
                        <source src="assets/videotest.mp4">
                    </video>

                <h3>loadeddata</h3>
                    <video id="videoLoadedData" controls>
                        <source src="assets/videotest.mp4">
                    </video>

                <h3>loadedmetadata</h3>
                <video id="videoLoadedMeta" controls>
                    <source src="assets/videotest.mp4" type="video/mp4">
                </video>

                <h3>message</h3>

                <h3>offline</h3>

                <h3>online</h3>

                <h3>open</h3>
                    <p>head over network -> message! and check all the messages that have been sent to the server</p>


                <h3>event.target.node</h3>
                    <div>
                        <button id="clickBtn">Click me</button>
                    </div>

                <h3>currentTarget</h3>
                    <div id="containerP">
                        <button id="button">Click Me</button>
                    </div>

                <h3>ASCII Code</h3>
                    <input type="text" id="asciiInput" placeholder="Press a key">

                <h3>screenX - screenY</h3>
                    <div id="mousePosition" style="height: 500px; background-color: lightblue;">
                    <p>Click inside this box to get the mouse position!</p>
                </div>
                <h3>preventDefault()</h3>
                    <h4>Disable Right-Click</h4>
                    <a id="preventId" style="text-align: center; margin-top: 10px;" href="https://wwww.pentaforce.com">Visit the official website of PentaForce</a>
                    <input type="checkbox" id="myCheckbox">
        </div>





    <!------------------------------------------------------------------------------------------------------------->


    </main>
    <footer>
        <button class="but"><a href="index.html">Volver al índice</a></button>
    </footer>
    <script>

   //Ejemplo de .addEventListener
    
    const button1 = document.querySelector("button1");
    function action() { alert("Hello!");  };

    button1.addEventListener("click", action);

    //multiples funciones

    const button2 = document.querySelector("button2");
    const action = () => alert("Hello!");
    const toggle = () => button.classList.toggle("red");

    button2.addEventListener("click", action);         // Hello message
    button2.addEventListener("click", toggle);         // Add/remove red CSS

  //.removeEventListener()

    const button3 = document.querySelector("button");
    const action = () => alert("Hello!");
    const mytoggle = () => button.classList.mytoggle("red");

    button.addEventListener("click", action);         // Add listener
    button.addEventListener("click", toggle);         // Toggle red CSS
    button.removeEventListener("click", action);      // Delete listener

    //Ejemplo de propagacion

    const padre = document.getElementById('padre');
    const hijo = document.getElementById('hijo');
    const boton = document.getElementById('boton');

   // Listener en la fase de captura
    padre.addEventListener('click', () => {
    console.log("Capturado en el DIV padre (fase de captura)");
    }, true); // El tercer parámetro `true` activa la fase de captura

   // Listener en la fase de propagacion
    padre.addEventListener('click', () => {
    console.log("Detectado en el DIV padre (fase de burbujeo)");
     });

   // Listener en el botón (fase objetivo)
     boton.addEventListener('click', () => {
     console.log("Click en el botón");
     });
   // Detener propagacion
    boton.addEventListener('click', (event) => {
    console.log("Evento en el botón");
    event.stopPropagation(); // Detiene la propagación
    });

                                // Youssef's code

        // event.target.id
        document.querySelectorAll('button').forEach(button => {
            button.addEventListener('click', function(event) {
                console.log('The id of the button clicked is:', event.target.id);
                alert('The id of the button clicked is: '+ event.target.id);
            });
        });

        // event.type
        const nameField = document.getElementById('nameField1');
        const eventTypes = ['keyup', 'focus', 'keypress'];

        eventTypes.forEach(eventType => {
            nameField.addEventListener(eventType, function(event) {
                console.log(`Event type: ${event.type}`);
            });
        });

        // abort
        const image = document.getElementById('myImage');
        const cancelButton = document.getElementById('cancelLoading');

        image.addEventListener('abort', function() {
            console.log('Image loading was aborted!');
        });

        cancelButton.addEventListener('click', function() {
            image.src = '';
        });

        // afterprint
        window.addEventListener('afterprint', function(event) {
            console.log('The document has been printed successfully');
            alert('The document has been printed successfully');
        });

        // beforeprint
        window.addEventListener('beforeprint', function(event){
            console.log('Getting ready for the document to get printed');
            alert('Getting ready for the document to get printed');
        });

        // beforeunload

        window.addEventListener('beforeunload', ()=>{
        event.preventDefault();
        event.returnValue = "";
        });

        // canplay
        document.getElementById('videoCanplay').addEventListener('canplay', function(event) {
            console.log('You can play the video');
            let result = 'You can play the video'

            document.getElementById('videoCanplay').innerText = result;
        });

        // canplaythrough
        document.getElementById('videoThrough').addEventListener('canplaythrough', function(event) {
            console.log('You can play the whole video without interruptions');
            let result = 'You can play the whole video without interruptions';

            document.getElementById('videoThrough').innerText = result;
        });

        // change
        document.getElementById('nameField2').addEventListener('change', function(event) {
            console.log('Input value changed: ', event.target.value);
        });

        // input
        document.getElementById('nameField3').addEventListener('input', function(event) {
            console.log('The current value is: ', event.target.value);
        });

        // ended
        document.getElementById('videoEnded').addEventListener('ended', function(event) {
            console.log('The video has finished playing');
            alert('The video has finished playing');
        });

        // error
     
        document.getElementById('image').addEventListener('error', function(event) {
            console.log('There was an error detected in the website');
            alert('There was an error detected in the website');
        });


        // fullscreenchange
        document.getElementById('enterFullscreen1').addEventListener('click', function() {
            document.documentElement.requestFullscreen();
        });


        // pause
        document.getElementById('pauseButton').addEventListener('click', function() {
            document.getElementById('videoPause').pause();
});

        // invalid
        document.getElementById('nameField4').addEventListener('invalid', function(event) {
            console.log('Please write a valid address email');
            alert('Please write a valid address email');
        });

        // load

        document.getElementById('videoLoad').addEventListener('click', function() {
            console.log(loadvideo.load())
        })

        // loadeddata
        document.getElementById('videoLoadedData').addEventListener('loadeddata', function(event) {
            const loadeddata = 'The video has been loaded'
            console.log(loadeddata);
        });

        // loadedmetadata
        const video = document.getElementById('videoLoadedMeta');

        video.addEventListener('loadedmetadata', function() {
            console.log("Video duration:", video.duration);
            console.log("Video currentime:", video.currentTime);
            console.log("Video width:", video.width);
        });

        // message
        window.addEventListener('message', function(event) {
            console.log('Message received: ', event.data);
        });
        window.postMessage('Hello, World!', '*');

        // offline
        window.addEventListener('offline', function(event) {
            console.log('You are offline');
            alert('You are offline');
        });

        // online
        window.addEventListener('online', function(event) {
            const online = 'You have recovered access to internet, welcome back again'
            console.log(online);
            alert(online);
        });

        // open
        const socket = new WebSocket('wss://demo.piesocket.com/v3/channel_123?api_key=VCXCEuvhGcBDP7XhiJJUDvR1e1D3eiVjgZ9VRiaV&notify_self');
        socket.addEventListener('open', function(event) {
            console.log('Connection established');
        });
        
        // event.target.node
        document.getElementById('clickBtn').addEventListener('click', function(event) {
            console.log('Element type: ', event.target.nodeName);
            alert('Element type: ' + event.target.nodeName);
        });

        //currentTarget
        document.getElementById('containerP').addEventListener('click', function(event)  {
            const currentTarget = 'Event listener is attached to: ';
            console.log(currentTarget, event.currentTarget.id);
            alert(currentTarget + event.currentTarget.id);
        });

        // ASCII
        document.getElementById('asciiInput').addEventListener('keydown', function(event) {
            console.log('KeyName Code: ', event.key);
            console.log('ASCII Code: ', event.keyCode);
        });

        // ScreenX - ScreenY
        const box = document.getElementById('mousePosition');

        box.addEventListener('click', function(event){
            const x = event.screenX;
            const y = event.screenY;

            console.log(`Mouse Position: X = ${x}, Y = ${y}`)
        });

        // preventDefault() Method Event

        document.getElementById('preventId').addEventListener('click', function(event) {
            event.preventDefault();
            console.log('Link click prevented')
            alert('Link is prevented')
        });

        // preventDefault() checkbox example
        document.getElementById('myCheckbox').addEventListener('click', function(event) {
            event.preventDefault();
        });

        // preventDefault() right click example
        document.addEventListener('contextmenu', function(event) {
            event.preventDefault();
            console.log('Right-click is disabled on this page.')
            alert("Right-click is disabled on this page.")
        });

    </script>
</body>
</html>