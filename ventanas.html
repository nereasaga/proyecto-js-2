<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="styles/style.css">
   </head>
   <style>

   </style>
<body>
    <nav class="navPaginas">
        <ul>
            <li><a href="index.html">Inicio</a></li>
            <li><a href="eventos.html">Eventos</a></li>
            <li><a href="nodos.html">Creación y acceso a nodos</a></li>
            <li><a href="storage.html">Local storage / Session storage</a></li>
            <li><a href="ventanas.html">Creación de ventanas</a></li>
        
        </ul>
    </nav>
    <main>
        <h2>Ejemplo de uso de window.open y otras funciones de ventana</h2>
        <button class="but" onclick="abrirVentana()">Abrir Nueva Ventana 🚀</button>    
        <button class="but" onclick="traerAlFrente()">Traer Ventana al Frente 👀</button>
        <button class="but" onclick="hacerInactiva()">Hacer Ventana Inactiva 👻</button>
        <button class="but" onclick="redimensionarVentana()">Redimensionar Ventana 📐</button>
        <button class="but" onclick="moverVentanaX()">Mover Ventana en X ✨</button>
        <button class="but" onclick="moverVentanaY()">Mover Ventana en Y ✨</button>
        <button class="but" onclick="imprimirVentana()">Imprimir Ventana 🖨️</button>
        <button class="but" onclick="cerrarVentana()">Cerrar Ventana ❌</button>
                
        <p id="mensaje">Hola este es un mensaje desde la pagina principal. 😊</p>
    
        <script>
            let ventanaNueva = null; // Variable global para mantener referencia a la ventana abierta
    
            // Función para abrir la ventana nueva
            function abrirVentana() {
                // Definir las propiedades de la nueva ventana
                var propiedades = "width=600,height=400,left=1000,top=100,resizable=yes,scrollbars=yes,status=yes,menubar=no,toolbar=no,location=no,directories=no";            
                // Abrir la nueva ventana con las propiedades definidas
                ventanaNueva = window.open("", "_blank", propiedades);            
                // Escribir contenido en la nueva ventana
                ventanaNueva.document.write("<h2>Ventana Nueva Opener() 🪟</h2>");
                ventanaNueva.document.write("<button class='but' onclick='window.opener.cambiarMensaje()'>Cambia el texto de la pagina principal 📝</button>");
            }
           //Función para cambiar el mensaje en la ventana principal
              function cambiarMensaje() {
               document.getElementById("mensaje").innerText = "¡Eh modificado el mensaje principal desde la ventana nueva! Atravez de window.opener() 😃";}
    
            // Función para cambiar el mensaje 2 en la ventana principal
           // function cambiarMensaje() {
                // Cambiar el texto del párrafo usando window.opener
               // window.opener.document.getElementById("mensaje").innerText = "¡Eh modificado el mensaje principal desde la ventana nueva! Atravez de window.opener() 😃";}
    
                // Función para cambiar el mensaje en la ventana principal
            //function cambiarMensaje() {
                // Verificar si window.opener está disponible y la ventana principal está cargada
               // if (window.opener) {
                    //try {
                       // window.opener.document.getElementById("mensaje").innerText = "¡Eh modificado el mensaje principal desde la ventana nueva! Atravez de window.opener() 😃";
                    //} catch (error) {
                       //console.error("No se pudo cambiar el texto:", error);}} 
                       //else {
                    //console.error("window.opener no está disponible o la ventana principal no está accesible.");}}
    
    
    
                    // Función para traer la ventana nueva al frente
            function traerAlFrente() {
                if (ventanaNueva) {
                    ventanaNueva.focus();
                }
            }
             // Función para hacer la ventana nueva inactiva
             function hacerInactiva() {
                if (ventanaNueva) {
                    ventanaNueva.blur();
                }
            }
             // Función para redimensionar la ventana nueva
             function redimensionarVentana() {
                if (ventanaNueva) {
                    ventanaNueva.focus();
                    ventanaNueva.resizeTo(800, 600);
                }
            }
            // Función para mover la ventana nueva en el eje X (horizontal)
            function moverVentanaX() {
                if (ventanaNueva) {
                    ventanaNueva.focus();
                    ventanaNueva.moveBy(600, 0); // 600 píxeles en X, 0 en Y
                }
            }
    
            // Función para mover la ventana nueva en el eje Y (vertical)
            function moverVentanaY() {
                if (ventanaNueva) {
                    ventanaNueva.focus();
                    ventanaNueva.moveBy(0, 300); // 0 en X, 300 píxeles en Y
                }
            }   
    
            // Función para mover la ventana nueva a una nueva posición
            function moverVentana() {
                if (ventanaNueva) {
                    ventanaNueva.moveTo(400, 400);
                }
            }
    
            // Función para imprimir el contenido de la ventana nueva
            function imprimirVentana() {
                if (ventanaNueva) {
                    // Asegurarse de que la ventana esté activa antes de imprimir
                    ventanaNueva.focus();
                    setTimeout(function() {
                        ventanaNueva.print();  // Intentar imprimir después de que se haya enfocado la ventana
                    }, 500);  // Retardo de 500ms para asegurar que la ventana se haya enfocado correctamente
                }
            }
            // Función para cerrar la ventana nueva
            function cerrarVentana() {
                ventanaNueva.focus();
                if (ventanaNueva) ventanaNueva.close();
            }
        </script>
</body>
</html>